# LƯU Ý: File này KHÔNG được sử dụng để chạy Java service
# Java service phải chạy trực tiếp bằng Maven: .\mvnw.cmd spring-boot:run
# Chỉ database và infrastructure (Kafka, Zookeeper) chạy bằng Docker
# Sử dụng docker-compose.yml ở root để khởi động databases và Kafka

version: '3.8'

services:
  # Database và Kafka đã được di chuyển vào docker-compose.yml ở root
  # Không cần chạy file này - sử dụng docker-compose.yml ở root thay thế
  # postgres-account:
  #   ...
  # zookeeper:
  #   ...
  # kafka:
  #   ...

# LƯU Ý: File này KHÔNG được sử dụng để chạy Java service
# Java service phải chạy trực tiếp bằng Maven: .\mvnw.cmd spring-boot:run
# Chỉ database và infrastructure (Kafka, Zookeeper) chạy bằng Docker
# Sử dụng docker-compose.yml ở root để khởi động databases và Kafka

  # Java service đã được comment - KHÔNG chạy bằng Docker
  # account-service:
  #   build:
  #     context: .
  #     dockerfile: Dockerfile
  #   container_name: account-service
  #   depends_on:
  #     postgres-account:
  #       condition: service_healthy
  #     kafka:
  #       condition: service_healthy
  #   environment:
  #     SPRING_DATASOURCE_URL: jdbc:postgresql://postgres-account:5432/account_db
  #     SPRING_DATASOURCE_USERNAME: account_user
  #     SPRING_DATASOURCE_PASSWORD: account_password
  #     SPRING_KAFKA_BOOTSTRAP_SERVERS: kafka:29092
  #     SPRING_PROFILES_ACTIVE: docker
  #     INTERNAL_SECRET: internal-secret
  #   ports:
  #     - "8082:8082"
  #   networks:
  #     - banking-network
  #   restart: unless-stopped

volumes:
  postgres_account_data:

networks:
  banking-network:
    driver: bridge

