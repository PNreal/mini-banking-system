# **INTERACTION PATTERNS -- MINI BANKING SYSTEM**

**Version:** 1.0  
**Date:** 2025-12-01  
**Author:** Nhóm 7

---

## **1. Tổng quan**

Tài liệu này mô tả các interaction patterns (mẫu tương tác) được sử dụng trong Mini Banking System để đảm bảo trải nghiệm người dùng nhất quán và trực quan.

---

## **2. Feedback Patterns**

### **2.1. Immediate Feedback**

**Principle:** Mọi action của user phải có feedback ngay lập tức.

**Examples:**

**Button Click:**
- Visual feedback: Scale down (0.98) khi click
- Loading state: Spinner + disabled state
- Success: Toast notification

**Form Input:**
- Real-time validation
- Error message hiển thị ngay khi blur
- Success checkmark khi valid

**Hover States:**
- Color change
- Slight scale (1.02)
- Shadow elevation

### **2.2. Loading States**

**Patterns:**

**Button Loading:**
```jsx
<Button loading={isLoading}>
  {isLoading ? (
    <>
      <Spinner size="sm" />
      Submitting...
    </>
  ) : (
    "Submit"
  )}
</Button>
```

**Page Loading:**
- Skeleton loaders cho content
- Progress indicator cho long operations
- Optimistic updates khi có thể

**Table Loading:**
- Skeleton rows
- Shimmer effect
- Maintain layout structure

### **2.3. Success Feedback**

**Patterns:**

**Toast Notification:**
- Slide in from top-right
- Auto-dismiss sau 5 giây
- Action button (undo) nếu có thể

**Inline Success:**
- Green checkmark icon
- Success message
- Auto-hide sau 3 giây

**Page-level Success:**
- Success banner ở đầu trang
- Dismissible
- Link to next action

### **2.4. Error Feedback**

**Patterns:**

**Form Errors:**
- Red border trên input
- Error icon
- Error message below input
- Focus on first error

**API Errors:**
- Toast notification
- Error banner
- Retry button nếu có thể

**Validation Errors:**
- Real-time validation
- Clear error messages
- Suggestions for fix

---

## **3. Confirmation Patterns**

### **3.1. Destructive Actions**

**Pattern:** Luôn yêu cầu confirmation cho destructive actions.

**Examples:**

**Freeze Account:**
```
1. Click "Freeze Account" button
2. Modal appears với:
   - Warning icon
   - Clear message
   - Password input
   - Cancel + Confirm buttons
3. User confirms → Action executed
```

**Delete/Remove:**
- Confirmation dialog
- Clear consequences
- Undo option nếu có thể

### **3.2. Important Actions**

**Pattern:** Confirmation cho actions quan trọng.

**Examples:**

**Large Transfer:**
- Show confirmation với details
- Highlight amount
- Show balance after
- Require explicit confirmation

**Bulk Actions:**
- Show count of items
- Preview changes
- Confirmation required

---

## **4. Input Patterns**

### **4.1. Form Input**

**Pattern:**

1. **Focus State:**
   - Border color changes
   - Label moves up (nếu floating label)
   - Show helper text

2. **Typing:**
   - Real-time validation (debounced)
   - Character count (nếu có limit)
   - Format as user types

3. **Blur:**
   - Validate field
   - Show error nếu invalid
   - Show success nếu valid

4. **Error State:**
   - Red border
   - Error icon
   - Error message
   - Focus on error

### **4.2. Amount Input**

**Special Pattern:**

**Formatting:**
- Auto-format với commas: 1,000,000
- Remove formatting khi focus
- Restore formatting khi blur

**Validation:**
- Real-time check amount > 0
- Check balance sufficiency
- Show warning nếu amount > balance

**Calculation:**
- Real-time calculate balance after
- Update display as user types
- Highlight changes

### **4.3. Search Input**

**Pattern:**

1. **Debounce:** 300ms delay
2. **Loading:** Show spinner trong search
3. **Results:** 
   - Highlight matches
   - Show "No results" nếu empty
   - Keyboard navigation
4. **Clear:** X button để clear

---

## **5. Navigation Patterns**

### **5.1. Page Transitions**

**Patterns:**

**Route Change:**
- Fade out current page
- Fade in new page
- Duration: 200ms

**Modal Open:**
- Backdrop fade in
- Modal slide up + fade in
- Duration: 300ms

**Drawer Open:**
- Slide in from side
- Backdrop fade in
- Duration: 250ms

### **5.2. Breadcrumbs**

**Pattern:**
- Show current location
- Clickable parent paths
- Current page not clickable
- Separator: ">"

**Example:**
```
Dashboard > Transactions > Transaction Details
```

### **5.3. Back Navigation**

**Pattern:**
- Back button ở top-left
- Browser back button support
- Remember scroll position (nếu có thể)

---

## **6. Data Display Patterns**

### **6.1. Tables**

**Patterns:**

**Sorting:**
- Click header để sort
- Show sort indicator (arrow)
- Toggle ascending/descending
- Multi-column sort (optional)

**Filtering:**
- Filter dropdowns
- Apply filters
- Show active filters
- Clear all filters

**Pagination:**
- Page numbers
- Previous/Next buttons
- Items per page selector
- Show "X-Y of Z items"

**Empty State:**
- Icon
- Message
- Action button
- Helpful suggestions

### **6.2. Cards**

**Patterns:**

**Hover:**
- Elevate shadow
- Slight scale (1.02)
- Show actions

**Click:**
- Navigate to detail
- Open modal
- Expand content

**Loading:**
- Skeleton card
- Shimmer effect
- Maintain aspect ratio

### **6.3. Lists**

**Patterns:**

**Infinite Scroll:**
- Load more khi scroll đến bottom
- Loading indicator
- Smooth loading

**Virtual Scrolling:**
- Render only visible items
- Smooth scrolling
- Maintain scroll position

---

## **7. Modal Patterns**

### **7.1. Modal Behavior**

**Pattern:**

1. **Open:**
   - Backdrop fade in
   - Modal slide up
   - Focus trap inside modal
   - Body scroll lock

2. **Interaction:**
   - ESC key closes
   - Click backdrop closes (optional)
   - Focus first interactive element

3. **Close:**
   - Fade out animation
   - Return focus to trigger
   - Restore body scroll

### **7.2. Confirmation Modal**

**Pattern:**

```
┌─────────────────────────┐
│  ⚠️  Warning Icon        │
│                         │
│  Title (Bold)           │
│                         │
│  Message text           │
│                         │
│  [Cancel] [Confirm]    │
└─────────────────────────┘
```

**Behavior:**
- Default focus on Cancel
- Enter key = Cancel
- Tab to Confirm
- Space/Enter on Confirm = Execute

### **7.3. Form Modal**

**Pattern:**

```
┌─────────────────────────┐
│  Title                  │
│                         │
│  Form fields...         │
│                         │
│  [Cancel] [Submit]     │
└─────────────────────────┘
```

**Behavior:**
- Focus first input
- Validate on submit
- Show errors inline
- Disable submit khi invalid

---

## **8. Toast Notification Patterns**

### **8.1. Toast Behavior**

**Pattern:**

1. **Appear:**
   - Slide in from top-right
   - Fade in
   - Duration: 300ms

2. **Display:**
   - Show for 5 seconds
   - Pause on hover
   - Stack multiple toasts

3. **Dismiss:**
   - Auto-dismiss sau timeout
   - Manual dismiss (X button)
   - Slide out animation

### **8.2. Toast Types**

**Success:**
- Green background
- Checkmark icon
- "Success" prefix

**Error:**
- Red background
- Error icon
- "Error" prefix

**Warning:**
- Yellow background
- Warning icon
- "Warning" prefix

**Info:**
- Blue background
- Info icon
- "Info" prefix

### **8.3. Toast with Action**

**Pattern:**
- Action button trong toast
- "Undo" cho reversible actions
- Link cho navigation

---

## **9. Real-time Update Patterns**

### **9.1. WebSocket Updates**

**Pattern:**

**Balance Update:**
- Smooth number animation
- Highlight change
- Toast notification (optional)

**Transaction Notification:**
- Toast với details
- Update transaction list
- Update balance

**Account Status Change:**
- Update status badge
- Show alert banner
- Disable/enable actions

### **9.2. Optimistic Updates**

**Pattern:**

1. Update UI immediately
2. Show loading state
3. API call in background
4. On success: Confirm update
5. On error: Revert + show error

**Example:**
```
User clicks Transfer
→ UI updates immediately (optimistic)
→ Show loading
→ API call
→ Success: Confirm
→ Error: Revert + show error
```

---

## **10. Form Patterns**

### **10.1. Multi-step Forms**

**Pattern:**

1. **Progress Indicator:**
   - Show steps
   - Highlight current step
   - Show completed steps

2. **Navigation:**
   - Next button
   - Previous button
   - Save progress (optional)

3. **Validation:**
   - Validate current step
   - Show errors
   - Block progression nếu invalid

### **10.2. Inline Editing**

**Pattern:**

1. **View Mode:**
   - Display value
   - Edit icon/button

2. **Edit Mode:**
   - Input field
   - Save/Cancel buttons
   - Validation

3. **Save:**
   - API call
   - Loading state
   - Success feedback
   - Return to view mode

---

## **11. Error Handling Patterns**

### **11.1. Error Display**

**Patterns:**

**Inline Errors:**
- Below input field
- Red color
- Clear message
- Icon

**Page-level Errors:**
- Banner ở top
- Dismissible
- Action buttons

**Toast Errors:**
- For non-critical errors
- Auto-dismiss
- Retry button nếu có thể

### **11.2. Error Recovery**

**Patterns:**

**Retry:**
- Retry button
- Exponential backoff
- Max retries: 3

**Fallback:**
- Show cached data
- Offline message
- Contact support

---

## **12. Animation Patterns**

### **12.1. Micro-interactions**

**Button Click:**
- Scale: 0.98
- Duration: 100ms
- Easing: ease-out

**Card Hover:**
- Scale: 1.02
- Shadow elevation
- Duration: 200ms

**Input Focus:**
- Border color transition
- Duration: 150ms

### **12.2. Page Transitions**

**Fade:**
- Opacity: 0 → 1
- Duration: 200ms

**Slide:**
- Transform: translateX/Y
- Duration: 300ms

### **12.3. Loading Animations**

**Spinner:**
- Rotate animation
- Duration: 1s
- Infinite loop

**Skeleton:**
- Shimmer effect
- Pulse animation
- Duration: 1.5s

---

## **13. Best Practices**

### **13.1. Consistency**

- Use same patterns across app
- Consistent timing
- Consistent feedback

### **13.2. Performance**

- Debounce inputs
- Throttle scroll events
- Lazy load content
- Optimize animations

### **13.3. Accessibility**

- Keyboard navigation
- Screen reader announcements
- Focus management
- ARIA attributes

---

**Lưu ý:** Tất cả interaction patterns phải được test trên các thiết bị và trình duyệt khác nhau để đảm bảo trải nghiệm nhất quán.

