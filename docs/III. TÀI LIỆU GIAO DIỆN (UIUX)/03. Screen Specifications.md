# **SCREEN SPECIFICATIONS -- MINI BANKING SYSTEM**

**Version:** 1.0  
**Date:** 2025-12-01  
**Author:** Nhóm 7

---

## **1. Tổng quan**

Tài liệu này mô tả chi tiết từng màn hình trong hệ thống Mini Banking System, bao gồm layout, components, states, và interactions.

---

## **2. Authentication Screens**

### **2.1. Login Page**

**URL:** `/login`  
**Route:** Public (không cần authentication)

#### **Layout**

```
┌─────────────────────────────────┐
│         Logo / Branding         │
│                                 │
│    ┌─────────────────────┐     │
│    │   Email Input       │     │
│    └─────────────────────┘     │
│                                 │
│    ┌─────────────────────┐     │
│    │   Password Input    │     │
│    └─────────────────────┘     │
│                                 │
│    ┌─────────────────────┐     │
│    │   Login Button      │     │
│    └─────────────────────┘     │
│                                 │
│    Forgot Password? Link        │
│    Create Account Link          │
└─────────────────────────────────┘
```

#### **Components**

| Component | Type | Props | Validation |
|-----------|------|-------|------------|
| Email Input | TextInput | type="email", required | Email format |
| Password Input | TextInput | type="password", required | Min 8 chars |
| Login Button | Button | variant="primary", fullWidth | Disabled khi invalid |
| Forgot Password Link | Link | href="/forgot-password" | - |
| Create Account Link | Link | href="/register" | - |

#### **States**

**Default:**
- Empty form
- Login button disabled

**Loading:**
- Login button shows spinner
- All inputs disabled

**Error:**
- Error message below form
- Error codes:
  - `INVALID_CREDENTIALS`: "Email hoặc mật khẩu không đúng"
  - `ACCOUNT_LOCKED`: "Tài khoản của bạn đã bị khóa"
  - `ACCOUNT_FROZEN`: "Tài khoản đã bị đóng băng"

**Success:**
- Redirect to `/dashboard`
- Store JWT token

#### **Interactions**

1. User nhập email → validate format
2. User nhập password → validate length
3. Click Login → show loading → API call
4. Success → redirect to dashboard
5. Error → show error message

---

### **2.2. Register Page**

**URL:** `/register`  
**Route:** Public

#### **Layout**

Tương tự Login Page với thêm:
- Confirm Password Input
- Full Name Input (optional)

#### **Components**

| Component | Type | Validation |
|-----------|------|-----------|
| Email Input | TextInput | Email format, unique |
| Password Input | TextInput | Min 8 chars, uppercase, number, special char |
| Confirm Password Input | TextInput | Must match password |
| Full Name Input | TextInput | Max 100 chars, optional |
| Register Button | Button | Disabled khi invalid |

#### **Validation Rules**

- **Email**: Valid format, không trùng
- **Password**: 
  - Min 8 characters
  - At least 1 uppercase letter
  - At least 1 number
  - At least 1 special character
- **Confirm Password**: Must match password
- **Full Name**: Max 100 characters (optional)

#### **Error Messages**

- `EMAIL_ALREADY_EXISTS`: "Email này đã được sử dụng"
- `INVALID_EMAIL`: "Email không hợp lệ"
- `WEAK_PASSWORD`: "Mật khẩu phải có ít nhất 8 ký tự, bao gồm chữ hoa, số và ký tự đặc biệt"
- `PASSWORD_MISMATCH`: "Mật khẩu xác nhận không khớp"

#### **Success Flow**

1. Show success toast: "Đăng ký thành công"
2. Redirect to `/login` sau 2 giây

---

### **2.3. Forgot Password Page**

**URL:** `/forgot-password`  
**Route:** Public

#### **Components**

- Email Input
- Send OTP Button
- Back to Login Link

#### **Flow**

1. User nhập email
2. Click "Gửi OTP"
3. Show loading
4. Success → Show message: "OTP đã được gửi đến email của bạn"
5. Redirect to `/reset-password?email={email}`

#### **Error**

- `EMAIL_NOT_FOUND`: "Email không tồn tại trong hệ thống"

---

### **2.4. Reset Password Page**

**URL:** `/reset-password`  
**Route:** Public (requires email param)

#### **Components**

- OTP Input (6 digits)
- New Password Input
- Confirm New Password Input
- Reset Password Button

#### **Flow**

1. User nhập OTP (auto-focus, auto-submit khi đủ 6 số)
2. User nhập password mới
3. User xác nhận password
4. Click "Đặt lại mật khẩu"
5. Success → Redirect to `/login`

#### **Error**

- `INVALID_OTP`: "OTP không đúng"
- `OTP_EXPIRED`: "OTP đã hết hạn (5 phút)"
- `OTP_MAX_ATTEMPTS`: "Đã nhập sai quá nhiều lần"

---

## **3. User Dashboard**

**URL:** `/dashboard`  
**Route:** Protected (requires authentication)

#### **Layout**

```
┌─────────────────────────────────────────────┐
│  Navigation Bar (User Info, Logout)        │
├─────────────────────────────────────────────┤
│                                             │
│  ┌─────────────┐  ┌─────────────┐        │
│  │ User Info   │  │  Balance    │        │
│  │ Card        │  │  Card       │        │
│  └─────────────┘  └─────────────┘        │
│                                             │
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐     │
│  │Deposit│ │Withdraw│ │Transfer│ │History│ │
│  └──────┘ └──────┘ └──────┘ └──────┘     │
│                                             │
│  ┌─────────────────────────────────────┐   │
│  │  Recent Transactions (Last 5)       │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  ┌─────────────────────────────────────┐   │
│  │  Freeze Account Button (Red)        │   │
│  └─────────────────────────────────────┘   │
└─────────────────────────────────────────────┘
```

#### **Components**

| Component | Description |
|-----------|-------------|
| User Info Card | Email, Full Name, Account Status Badge |
| Balance Card | Current Balance (large, prominent), Last Updated |
| Action Buttons | Deposit, Withdraw, Transfer, History (grid layout) |
| Recent Transactions | Table/Card view của 5 giao dịch gần nhất |
| Freeze Account Button | Red danger button, ở cuối trang |

#### **Real-time Updates**

- WebSocket connection để cập nhật balance real-time
- Toast notification khi có giao dịch mới

#### **Account Status Handling**

- **ACTIVE**: Tất cả buttons enabled
- **FROZEN**: Disable Deposit, Withdraw, Transfer buttons
- **LOCKED**: Show message "Tài khoản đã bị khóa"

---

## **4. Transaction Screens**

### **4.1. Deposit Page**

**URL:** `/deposit`  
**Route:** Protected

#### **Layout**

```
┌─────────────────────────────────┐
│  ← Back to Dashboard            │
│                                 │
│  Deposit                        │
│                                 │
│  Current Balance: 500,000 VND   │
│                                 │
│  ┌─────────────────────┐       │
│  │  Amount Input       │       │
│  │  (VND format)       │       │
│  └─────────────────────┘       │
│                                 │
│  Balance After: 600,000 VND    │
│  (calculated in real-time)      │
│                                 │
│  ┌─────────────────────┐       │
│  │  Confirm Deposit    │       │
│  └─────────────────────┘       │
└─────────────────────────────────┘
```

#### **Components**

- Amount Input (AmountInput component)
- Current Balance Display
- Balance After Deposit (calculated, updates on input change)
- Confirm Deposit Button

#### **Validation**

- Amount > 0
- Account status = ACTIVE
- Format: Auto-format với dấu phẩy (1,000,000)

#### **Flow**

1. User nhập amount
2. Real-time calculate và hiển thị balance after
3. Click "Confirm Deposit"
4. Show confirmation modal (optional)
5. API call → Loading state
6. Success → Toast notification + Redirect to dashboard
7. Error → Show error message

#### **Error Messages**

- `INVALID_AMOUNT`: "Số tiền phải lớn hơn 0"
- `ACCOUNT_FROZEN`: "Tài khoản đã bị đóng băng, không thể nạp tiền"
- `ACCOUNT_LOCKED`: "Tài khoản đã bị khóa"

#### **Success**

- Toast: "Nạp tiền thành công: +1,000,000 VND"
- Balance card tự động cập nhật (WebSocket)

---

### **4.2. Withdraw Page**

**URL:** `/withdraw`  
**Route:** Protected

#### **Layout**

Tương tự Deposit Page nhưng:
- Balance After = Current Balance - Amount
- Warning nếu amount > balance

#### **Components**

- Amount Input
- Current Balance Display
- Balance After Withdraw (calculated)
- Insufficient Balance Warning (nếu amount > balance)
- Confirm Withdraw Button

#### **Validation**

- Amount > 0
- Amount <= Current Balance
- Account status = ACTIVE

#### **Error Messages**

- `INSUFFICIENT_BALANCE`: "Số dư không đủ"
- `ACCOUNT_FROZEN`: "Tài khoản đã bị đóng băng, không thể rút tiền"
- `ACCOUNT_LOCKED`: "Tài khoản đã bị khóa"

---

### **4.3. Transfer Page**

**URL:** `/transfer`  
**Route:** Protected

#### **Layout**

```
┌─────────────────────────────────┐
│  ← Back to Dashboard            │
│                                 │
│  Chuyển tiền                    │
│                                 │
│  Current Balance: 500,000 VND   │
│                                 │
│  ┌─────────────────────┐       │
│  │  Receiver Account   │       │
│  │  ID Input           │       │
│  └─────────────────────┘       │
│                                 │
│  ┌─────────────────────┐       │
│  │  Amount Input       │       │
│  └─────────────────────┘       │
│                                 │
│  Balance After: 300,000 VND     │
│                                 │
│  ┌─────────────────────┐       │
│  │  Transfer Button    │       │
│  └─────────────────────┘       │
└─────────────────────────────────┘
```

#### **Components**

- Receiver Account ID Input (UUID format)
- Amount Input
- Current Balance Display
- Balance After Transfer
- Transfer Button

#### **Validation**

- Receiver Account ID: Valid UUID format, account exists
- Receiver Account Status: ACTIVE or FROZEN
- Amount > 0
- Amount <= Current Balance
- Sender Account Status = ACTIVE

#### **Flow**

1. User nhập receiver account ID
2. Validate account exists (debounce 500ms)
3. Show receiver account info nếu hợp lệ
4. User nhập amount
5. Calculate balance after
6. Click "Transfer"
7. Show confirmation modal với receiver info
8. Confirm → API call
9. Success → Toast + Redirect

#### **Error Messages**

- `RECEIVER_ACCOUNT_NOT_FOUND`: "Tài khoản nhận không tồn tại"
- `RECEIVER_ACCOUNT_LOCKED`: "Tài khoản nhận đã bị khóa"
- `INSUFFICIENT_BALANCE`: "Số dư không đủ"
- `ACCOUNT_FROZEN`: "Tài khoản của bạn đã bị đóng băng"

#### **Success Response**

Toast hiển thị:
- Transaction ID
- Receiver Account ID
- Amount transferred
- New Balance

---

## **5. Transaction History Page**

**URL:** `/transactions`  
**Route:** Protected

#### **Layout**

```
┌─────────────────────────────────────────────┐
│  ← Back to Dashboard                       │
│                                             │
│  Lịch sử giao dịch                         │
│                                             │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐   │
│  │ Type     │ │ Date     │ │ Search  │   │
│  │ Filter   │ │ Range    │ │         │   │
│  └──────────┘ └──────────┘ └──────────┘   │
│                                             │
│  ┌─────────────────────────────────────┐   │
│  │  Transaction Table                  │   │
│  │                                     │   │
│  │  ID | Type | Amount | Time | Status│   │
│  │  ...                                │   │
│  └─────────────────────────────────────┘   │
│                                             │
│  [< Prev] [1] [2] [3] [Next >]            │
└─────────────────────────────────────────────┘
```

#### **Components**

- Filter Dropdowns:
  - Type Filter: All | Deposit | Withdraw | Transfer
  - Date Range Picker
- Search Input (search by transaction ID)
- Transaction Table
- Pagination Component

#### **Table Columns**

| Column | Format | Sortable |
|--------|--------|----------|
| Transaction ID | Monospace font, truncated | No |
| Type | Badge với icon | Yes |
| Amount | Formatted VND, color coded | Yes |
| From/To Account | Truncated UUID | No |
| Timestamp | DD/MM/YYYY HH:mm:ss | Yes |
| Status | Status badge | Yes |

#### **Features**

- Sortable columns
- Filterable by type và date range
- Search by transaction ID
- Pagination (20 items per page)
- Empty state khi không có giao dịch
- Loading state khi fetch data

#### **Mobile View**

- Card layout thay vì table
- Mỗi transaction là một card
- Swipe actions (optional)

---

## **6. Settings Page**

**URL:** `/settings`  
**Route:** Protected

#### **Layout**

```
┌─────────────────────────────────┐
│  ← Back to Dashboard            │
│                                 │
│  Cài đặt tài khoản              │
│                                 │
│  ┌─────────────────────┐       │
│  │  User Information   │       │
│  │  - Email            │       │
│  │  - Full Name        │       │
│  │  - Account Status   │       │
│  └─────────────────────┘       │
│                                 │
│  ┌─────────────────────┐       │
│  │  Change Password    │       │
│  │  (Optional)         │       │
│  └─────────────────────┘       │
│                                 │
│  ┌─────────────────────┐       │
│  │  Freeze Account     │       │
│  │  (Red Button)       │       │
│  └─────────────────────┘       │
└─────────────────────────────────┘
```

#### **Components**

- User Info Card (read-only)
- Change Password Section (optional)
- Freeze Account Button (danger variant)

#### **Freeze Account Flow**

1. Click "Freeze Account" button
2. Show confirmation modal:
   - Title: "Xác nhận đóng băng tài khoản"
   - Message: "Bạn có chắc chắn muốn đóng băng tài khoản? Bạn sẽ không thể thực hiện giao dịch cho đến khi Admin mở khóa."
   - Password Input (required)
   - Buttons: Cancel, Confirm (danger)
3. User nhập password
4. Click Confirm
5. API call → Loading
6. Success → Toast "Tài khoản đã được đóng băng"
7. Auto logout → Redirect to login

#### **Error Messages**

- `INVALID_PASSWORD`: "Mật khẩu không đúng"
- `ACCOUNT_ALREADY_FROZEN`: "Tài khoản đã bị đóng băng"
- `ACCOUNT_LOCKED`: "Tài khoản đã bị khóa"

---

## **7. Admin Screens**

### **7.1. Admin Dashboard**

**URL:** `/admin/dashboard`  
**Route:** Protected (Admin only)

#### **Layout**

```
┌─────────────────────────────────────────────┐
│  Admin Navigation Bar                       │
├─────────────────────────────────────────────┤
│                                             │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐   │
│  │ Total    │ │ Today's  │ │ Total    │   │
│  │ Users    │ │ Trans.   │ │ Amount   │   │
│  └──────────┘ └──────────┘ └──────────┘   │
│                                             │
│  ┌──────────┐ ┌──────────┐                 │
│  │ Status   │ │ Search   │                 │
│  │ Filter   │ │ User     │                 │
│  └──────────┘ └──────────┘                 │
│                                             │
│  ┌─────────────────────────────────────┐   │
│  │  User Management Table              │   │
│  │                                     │   │
│  │  Email | Status | Balance | Actions │   │
│  │  ...                                │   │
│  └─────────────────────────────────────┘   │
└─────────────────────────────────────────────┘
```

#### **Components**

- Summary Cards:
  - Total Users
  - Today's Transactions
  - Total Amount Transferred
  - Failed Transactions
- Filters:
  - Status Filter (All | ACTIVE | FROZEN | LOCKED)
  - Search Input
- User Management Table
- Pagination

#### **User Table Columns**

| Column | Description |
|--------|-------------|
| Email | User email |
| Full Name | User full name |
| Account Status | Status badge |
| Balance | Formatted VND |
| Created At | Registration date |
| Last Login | Last login timestamp |
| Actions | Lock, Unlock, Freeze, Unfreeze buttons |

#### **Actions**

Mỗi action mở confirmation modal:
- **Lock**: "Xác nhận khóa tài khoản này?"
- **Unlock**: "Xác nhận mở khóa tài khoản này?"
- **Freeze**: "Xác nhận đóng băng tài khoản này?"
- **Unfreeze**: "Xác nhận mở đóng băng tài khoản này?"

---

## **8. Error Pages**

### **8.1. 404 Not Found**

**URL:** Any invalid route

#### **Components**

- Large "404" text
- "Page not found" message
- Back to Dashboard button

### **8.2. 403 Forbidden**

**URL:** Admin routes accessed by non-admin

#### **Components**

- "Access Denied" message
- "You don't have permission to access this page"
- Back to Dashboard button

### **8.3. 500 Server Error**

**URL:** Server error occurred

#### **Components**

- "Something went wrong" message
- "Please try again later"
- Retry button
- Contact support link

---

## **9. Loading States**

Tất cả các màn hình cần có loading states:

- **Initial Load**: Skeleton loaders
- **Form Submit**: Button spinner + disable inputs
- **Data Fetch**: Table skeleton hoặc spinner
- **Page Transition**: Full-page spinner

---

## **10. Responsive Behavior**

### **Mobile (< 768px)**

- Single column layout
- Stack cards vertically
- Hamburger menu
- Bottom navigation (optional)
- Card view cho tables

### **Tablet (768px - 1024px)**

- 2-column layout
- Sidebar navigation
- Table view với scroll

### **Desktop (> 1024px)**

- Multi-column layout
- Full sidebar
- Full table view
- Hover states

---

**Lưu ý:** Tất cả các màn hình phải tuân theo Design System và Component Library đã định nghĩa.

